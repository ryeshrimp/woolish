import{S as P,i as x,s as S,e as T,f as h,g as d,h as m,j as y,k,l as f,o as j,n as _,p as A,q as M,r as $,u as W,c as L,m as B,t as F,a as O,d as V}from"./vendor.095b192b.js";function N(o){var t;let n,r,e=((t=o[0])==null?void 0:t.toFixed(4))+"",a;return{c(){n=T("div"),r=h("$"),a=h(e),d(n,"class","svelte-1mupq7r")},m(s,u){m(s,n,u),y(n,r),y(n,a)},p(s,u){var i;u&1&&e!==(e=((i=s[0])==null?void 0:i.toFixed(4))+"")&&k(a,e)},d(s){s&&f(n)}}}function q(o){let n,r=o[0]&&N(o);return{c(){r&&r.c(),n=j()},m(e,a){r&&r.m(e,a),m(e,n,a)},p(e,[a]){e[0]?r?r.p(e,a):(r=N(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:_,o:_,d(e){r&&r.d(e),e&&f(n)}}}function z(o,n,r){let e,a,t;const s=async()=>{e=(await(await fetch("https://min-api.cryptocompare.com/data/price?fsym=ETH&tsyms=USD",{method:"GET",headers:{Accept:"application/json"}})).json()).USD,a=(await(await fetch("https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3",{method:"POST",headers:{Accept:"application/json"},body:'{"query":"\\n  {\\n    pool(id: \\"0x7b12d855445073987d45ea97b1af3554f05e4ef4\\") {\\n      sqrtPrice\\n    }\\n  }\\n"}'})).json()).data.pool.sqrtPrice**2/2**192,r(0,t=a*e)};return A(()=>{const u=setInterval(()=>s(),1e4);return()=>clearInterval(u)}),s(),e=null,a=null,r(0,t=null),[t]}class H extends P{constructor(n){super();x(this,n,z,q,S,{})}}let v;window.ethereum?v=new window.Web3(window.ethereum):window.web3&&(v=new window.Web3(window.web3.currentProvider));const D=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"controller",type:"address"}],name:"addController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"controller",type:"address"}],name:"removeController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],K=async o=>{try{return(await v.eth.getBlock(o)).timestamp}catch{return null}},Y=async()=>{try{const o=await v.eth.getBlockNumber(),r=await new v.eth.Contract(D,"0x8355dbe8b0e275abad27eb843f3eaf3fc855e525").getPastEvents({event:"Transfer",fromBlock:o-600,toBlock:"latest",topics:["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"]}),e=new Set;let a={};const t=[...r].reverse(),s=t.filter((i,b)=>{var p;return e.add(i.blockNumber),b===0?!0:i.transactionHash!==((p=t[b-1])==null?void 0:p.transactionHash)});for(let i of e)a[i]=await K(i);return s.map(i=>{var b,p,w;return i.timestamp=a[i.blockNumber],((b=i.returnValues)==null?void 0:b.from)==="0x0000000000000000000000000000000000000000"?(i.source="POUCH CLAIM",i.wool=parseFloat((i.returnValues.value/1e18).toFixed(3))):((p=i.returnValues)==null?void 0:p.to)==="0x0000000000000000000000000000000000000000"?(i.source="STAKE",i.wool=parseFloat((i.returnValues.value/1e18).toFixed(3))):((w=i.returnValues.to)==null?void 0:w.toLowerCase())==="0x7b12d855445073987d45ea97b1af3554f05e4ef4"?(i.source="SELL",i.wool=parseFloat((i.returnValues.value/1e18).toFixed(3))):(i.source="BUY",i.wool=parseFloat((i.returnValues.value/1e18).toFixed(3))),{source:i.source,amount:i.wool,tx:i.transactionHash,timestamp:i.timestamp}})}catch{return null}};function I(o,n,r){const e=o.slice();return e[3]=n[r],e}function G(o){let n;return{c(){n=T("div"),n.textContent="Install metamask to retrieve live stats",d(n,"class","metamask-error svelte-1uzehuj")},m(r,e){m(r,n,e)},p:_,d(r){r&&f(n)}}}function R(o){let n,r=o[0],e=[];for(let a=0;a<r.length;a+=1)e[a]=U(I(o,r,a));return{c(){n=T("section");for(let a=0;a<e.length;a+=1)e[a].c();d(n,"class","svelte-1uzehuj")},m(a,t){m(a,n,t);for(let s=0;s<e.length;s+=1)e[s].m(n,null)},p(a,t){if(t&3){r=a[0];let s;for(s=0;s<r.length;s+=1){const u=I(a,r,s);e[s]?e[s].p(u,t):(e[s]=U(u),e[s].c(),e[s].m(n,null))}for(;s<e.length;s+=1)e[s].d(1);e.length=r.length}},d(a){a&&f(n),W(e,a)}}}function U(o){let n,r=new Date(o[3].timestamp*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})+"",e,a,t,s,u=o[3].source+"",i,b,p,w=o[3].amount.toLocaleString()+"",E,C,g;return{c(){n=T("span"),e=h(r),a=M(),t=T("a"),s=T("div"),i=h(u),b=M(),p=T("p"),E=h(w),C=M(),d(n,"class","svelte-1uzehuj"),$(s,"background-color",o[1](o[3].source)),d(s,"class","svelte-1uzehuj"),d(p,"class","svelte-1uzehuj"),d(t,"href",g="https://etherscan.io/tx/"+o[3].tx),d(t,"target","_BLANK"),$(t,"border-bottom","1px solid "+o[1](o[3].source)),d(t,"class","svelte-1uzehuj")},m(l,c){m(l,n,c),y(n,e),m(l,a,c),m(l,t,c),y(t,s),y(s,i),y(t,b),y(t,p),y(p,E),y(t,C)},p(l,c){c&1&&r!==(r=new Date(l[3].timestamp*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})+"")&&k(e,r),c&1&&u!==(u=l[3].source+"")&&k(i,u),c&1&&$(s,"background-color",l[1](l[3].source)),c&1&&w!==(w=l[3].amount.toLocaleString()+"")&&k(E,w),c&1&&g!==(g="https://etherscan.io/tx/"+l[3].tx)&&d(t,"href",g),c&1&&$(t,"border-bottom","1px solid "+l[1](l[3].source))},d(l){l&&f(n),l&&f(a),l&&f(t)}}}function J(o){let n;function r(t,s){return t[0]?R:G}let e=r(o),a=e(o);return{c(){a.c(),n=j()},m(t,s){a.m(t,s),m(t,n,s)},p(t,[s]){e===(e=r(t))&&a?a.p(t,s):(a.d(1),a=e(t),a&&(a.c(),a.m(n.parentNode,n)))},i:_,o:_,d(t){a.d(t),t&&f(n)}}}function Q(o,n,r){let e;const a=async()=>{r(0,e=await Y())};A(()=>{const s=setInterval(()=>a(),1e4);return()=>clearInterval(s)}),a();const t=s=>s==="STAKE"?"#ff9f43":s==="SELL"?"#ee5253":s==="POUCH CLAIM"?"#0abde3":s==="BUY"?"#1dd1a1":"#fff";return r(0,e=[]),[e,t]}class X extends P{constructor(n){super();x(this,n,Q,J,S,{})}}function Z(o){let n,r,e,a;return n=new H({}),e=new X({}),{c(){L(n.$$.fragment),r=M(),L(e.$$.fragment)},m(t,s){B(n,t,s),m(t,r,s),B(e,t,s),a=!0},p:_,i(t){a||(F(n.$$.fragment,t),F(e.$$.fragment,t),a=!0)},o(t){O(n.$$.fragment,t),O(e.$$.fragment,t),a=!1},d(t){V(n,t),t&&f(r),V(e,t)}}}class te extends P{constructor(n){super();x(this,n,null,Z,S,{})}}export{te as default};
